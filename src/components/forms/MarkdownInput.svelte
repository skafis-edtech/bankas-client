<script lang="ts">
	import { Carta, MarkdownEditor } from 'carta-md';
	import DOMPurify from 'isomorphic-dompurify';
	import { math } from '@cartamd/plugin-math';
	import { onMount } from 'svelte';

	export let value = '';

	onMount(() => {
		const writeTab = document.querySelector('button[tabindex="0"]');
		const previewTab = document.querySelector('button[tabindex="-1"]');

		if (writeTab && previewTab) {
			writeTab.textContent = 'Ra≈°ymas';
			previewTab.textContent = 'Per≈æi≈´ra';
		}
	});

	const carta = new Carta({
		sanitizer: DOMPurify.sanitize,
		shikiOptions: {
			langs: ['javascript', 'typescript', 'html', 'css', 'svelte'],
			themes: ['nord']
		},
		extensions: [math()]
	});
</script>

<MarkdownEditor mode="tabs" placeholder="ƒåia galite ra≈°yti markdown! üöÄ" {carta} bind:value />
